<?xml version="1.0" ?><data xmlns:au="http://jackjansen.nl/igor/authentication" xmlns:own="http://jackjansen.nl/igor/owner">
	<environment>
		<morninggreeting>true</morninggreeting>
		<latereminder></latereminder>
		<night></night>
		<tokens><token/></tokens>
		<location/>
		<energy/>
		<weather/>
		<messages><message>'Good morning, you are early!'</message></messages>
		<devices/>
		<lights/>
		<systemHealth>
			<messages><ringer>devices/ringer failed without error message</ringer><router>router is not available (timeout connecting to 192.168.1.1)</router></messages>
		</systemHealth>
		<introspection>
		    <lastActivity><igor>2018-10-29T16:15:30.840794</igor><ble>2018-08-13T15:42:47.447873</ble></lastActivity>
		</introspection>
	</environment>
	<status>
		<igor><core><alive>true</alive><lastActivity>1540826130.5641723</lastActivity><lastSuccess>1540826130.5641723</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><ignoreErrorUntil></ignoreErrorUntil></core><save><alive>true</alive><lastActivity>1540826131.0964453</lastActivity><lastSuccess>1540826131.0964453</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><ignoreErrorUntil></ignoreErrorUntil></save><web><alive>true</alive><lastActivity>1540826146.118925</lastActivity><lastSuccess>1540826146.118925</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><lastFailure>1540826075.7393892</lastFailure><ignoreErrorUntil></ignoreErrorUntil></web></igor>
		<sensors><ble><alive>true</alive><lastActivity>1540826148.4593623</lastActivity><lastSuccess>1540826148.4593623</lastSuccess><lastFailure>1540821090.8691442</lastFailure><errorMessage></errorMessage><ignoreErrorsUntil/><ignoreErrorUntil></ignoreErrorUntil></ble><button><alive>true</alive><lastActivity>1530621438.31</lastActivity><lastSuccess>1530621438.31</lastSuccess><ignoreErrorsUntil/><errorMessage/></button></sensors>
		<devices><ringer><alive/><lastActivity>1530621439.76</lastActivity><lastFailure>1530621439.76</lastFailure><errorMessage>devices/ringer failed without error message</errorMessage></ringer></devices>
		<services><announceTime><alive>true</alive><lastActivity>1540826130.7774785</lastActivity><lastSuccess>1540826130.7774785</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><ignoreErrorUntil></ignoreErrorUntil></announceTime><internet><alive>true</alive><lastActivity>1540826145.802591</lastActivity><lastSuccess>1540826145.802591</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><lastFailure>1530629680.83</lastFailure><ignoreErrorUntil></ignoreErrorUntil></internet><router><alive></alive><lastActivity>1540826145.637571</lastActivity><lastFailure>1540826145.637571</lastFailure><errorMessage>router is not available (timeout connecting to 192.168.1.1)</errorMessage></router></services>
	</status>
	<sensors><ble><bleDevice><address>7a:d2:26:5d:bd:95</address><lastSeen>1540826044.8790603</lastSeen><raw_advertisements>02011a0aff4c001005031ca16b42</raw_advertisements><rssi>-97</rssi><available></available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><manufacturer_specific_data><raw>1005031ca16b42</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540821097.0209696</firstSeen><address>48:e6:5b:89:21:b3</address><lastSeen>1540826147.8567157</lastSeen><raw_advertisements>02010607ff4c0010020108</raw_advertisements><rssi>-53</rssi><available>true</available><advertisements><flags><le_general_discoverable>true</le_general_discoverable><bredr_not_supported>true</bredr_not_supported></flags><manufacturer_specific_data><raw>10020108</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><address>45:c6:13:47:d3:d7</address><lastSeen>1540826065.1660564</lastSeen><raw_advertisements>02011a0aff4c0010050318337313</raw_advertisements><rssi>-94</rssi><available></available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><manufacturer_specific_data><raw>10050318337313</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540825856.7034132</firstSeen><address>09:59:04:5a:ca:f1</address><lastSeen>1540826147.8356514</lastSeen><raw_advertisements>1eff060001092002f92e21b194c8258447b2079513e69689af746cd1fb7df4</raw_advertisements><raw_evt_type>3</raw_evt_type><rssi>-87</rssi><available>true</available><advertisements><manufacturer_specific_data><raw>01092002f92e21b194c8258447b2079513e69689af746cd1fb7df4</raw><manufacturerID>6</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540825219.3509805</firstSeen><address>3a:ad:84:4b:0c:c2</address><lastSeen>1540826147.6807148</lastSeen><raw_advertisements>1eff06000109200221ff7aa3e71452cc74af443768cee7398c55c08f356f71</raw_advertisements><raw_evt_type>3</raw_evt_type><rssi>-94</rssi><available>true</available><advertisements><manufacturer_specific_data><raw>0109200221ff7aa3e71452cc74af443768cee7398c55c08f356f71</raw><manufacturerID>6</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540821096.9919884</firstSeen><address>73:e6:3d:2b:f8:b5</address><lastSeen>1540826147.8673828</lastSeen><raw_advertisements>02010613ff4c000c0e00c81daf96acb16e6daad829fa1e</raw_advertisements><rssi>-90</rssi><available>true</available><advertisements><flags><le_general_discoverable>true</le_general_discoverable><bredr_not_supported>true</bredr_not_supported></flags><manufacturer_specific_data><raw>0c0e00c81daf96acb16e6daad829fa1e</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540824891.3345575</firstSeen><address>63:cf:a5:20:98:c5</address><lastSeen>1540826147.176156</lastSeen><raw_advertisements>02011a0aff4c001005031c41cb26</raw_advertisements><rssi>-91</rssi><available>true</available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><manufacturer_specific_data><raw>1005031c41cb26</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540825457.3139334</firstSeen><address>78:29:e3:9b:ad:90</address><lastSeen>1540826147.6096096</lastSeen><raw_advertisements>02011a0aff4c001005031ca3e110</raw_advertisements><rssi>-51</rssi><available>true</available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><manufacturer_specific_data><raw>1005031ca3e110</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540826122.97355</firstSeen><address>42:81:c6:eb:ac:82</address><lastSeen>1540826134.1137967</lastSeen><raw_advertisements>02011a0aff4c001005071c53d026</raw_advertisements><rssi>-96</rssi><available>true</available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><manufacturer_specific_data><raw>1005071c53d026</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540825971.1935322</firstSeen><address>04:52:c7:63:cd:18</address><lastSeen>1540826146.3246</lastSeen><raw_advertisements>02011a0303befe13ff1001400c0143784f4380667b38892c5ea3c3</raw_advertisements><rssi>-96</rssi><available>true</available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><unknown_0x03>befe</unknown_0x03><manufacturer_specific_data><raw>400c0143784f4380667b38892c5ea3c3</raw><manufacturerID>272</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>public</bdaddr_type></bleDevice><bleDevice><address>22:f6:0e:6e:3e:98</address><lastSeen>1540826051.657652</lastSeen><raw_advertisements>1eff060001092002ac49c13e309aa47000ddccbed2b08a90e5180e24571d73</raw_advertisements><raw_evt_type>3</raw_evt_type><rssi>-103</rssi><available></available><advertisements><manufacturer_specific_data><raw>01092002ac49c13e309aa47000ddccbed2b08a90e5180e24571d73</raw><manufacturerID>6</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540826142.2734542</firstSeen><address>68:f4:f6:b6:ec:e3</address><lastSeen>1540826142.2734308</lastSeen><raw_advertisements>02011a0aff4c0010050b1cf39de9</raw_advertisements><rssi>-104</rssi><available>true</available><advertisements><flags><simultaneous_le_bredr_c>true</simultaneous_le_bredr_c><simultaneous_le_bredr_h>true</simultaneous_le_bredr_h><le_general_discoverable>true</le_general_discoverable></flags><manufacturer_specific_data><raw>10050b1cf39de9</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>random</bdaddr_type></bleDevice><bleDevice><firstSeen>1540823964.637281</firstSeen><address>98:01:a7:b4:9f:fc</address><lastSeen>1540826147.8644478</lastSeen><raw_advertisements>02010607ff4c0010020b08</raw_advertisements><rssi>-90</rssi><available>true</available><advertisements><flags><le_general_discoverable>true</le_general_discoverable><bredr_not_supported>true</bredr_not_supported></flags><manufacturer_specific_data><raw>10020b08</raw><manufacturerID>76</manufacturerID></manufacturer_specific_data></advertisements><bdaddr_type>public</bdaddr_type></bleDevice><lastActivity>1540826147.8880663</lastActivity></ble></sensors>
	<devices>
	</devices>
	<services>
	<igor><rebootCount>21</rebootCount><fingerprint>10:4F:B8:17:83:4C:DF:CA:FC:43:84:F9:EC:2B:87:24:E6:80:42:0E</fingerprint><protocol>https</protocol><url>https://igor.local:9333/data</url><ticker>0</ticker><accessFailures></accessFailures><startTime>1540826130</startTime><host>igor.local</host><port>9333</port><version>0.95</version></igor><router/><internet/></services>
	<people/>
	<identities><admin><plugindata/></admin></identities>
	<actions>
		<action>
			<name>updateMessage</name>
			<interval>500</interval>
			<url>/data/environment/messages/message</url>
			<representing>services/announceTime</representing>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>'this is Igor. The time is now' {igor_hours_from_dateTime(igor_dateTime())}'.'{igor_minutes_from_dateTime(igor_dateTime())}</data>
		<notBefore>1540826130</notBefore></action>
		<action>
			<name>checkLate_reminder</name>
			<interval>500</interval>
			<condition>/data/environment[latereminder='true']</condition>
		    <url>/data/environment/messages/message</url>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>'Its late, you should be sleeping!'</data>
			<multiple>True</multiple>
		<notBefore>1530576015</notBefore></action>
		<action>
			<name>checkMorning_reminder</name>
			<interval>500</interval>
			<condition>/data/environment[morninggreeting='true']</condition>
		    <url>/data/environment/messages/message</url>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>'Good morning, you are early!'</data>
			<multiple>True</multiple>
		<notBefore>1540826130</notBefore></action>
	    <action>
			<xpath>/data/environment/messages/*</xpath>
			<condition>not(data/environment/night)</condition>
			<url>/pluginscript/say/message?args={.}</url>
		<notBefore>1540826131</notBefore></action>
	    <action>
            <interval>60</interval>
            <url>/pluginscript/ble/pull</url>
			<representing>sensors/ble</representing>
            <aggregate>true</aggregate>
        <notBefore>1540826130</notBefore></action>
	    <action>
	        <name>start</name>
	        <url>/internal/started</url>
	    <notBefore>1540826130</notBefore></action>
		<action>
			<name>save</name>
			<interval>3600</interval>
			<minInterval>60</minInterval>
			<url>/internal/save</url>
			<representing>igor/save</representing>
			<xpath>/data/plugindata//* | /data/actions/* | /data/triggers/* | /data/identities//* | /data/sandbox/*</xpath>
		<notBefore>1540826190</notBefore></action>
        <action>
            <name>cleanup</name>
            <method>DELETE</method>
            <url>/data/environment/messages/message[position()&lt;last()]</url>
            <interval>900</interval>
        <notBefore>1540826130</notBefore></action>
		<action>
			<name>updateActions</name>
			<xpath>/data/actions/*</xpath>
			<url>/internal/updateActions</url>
		<notBefore>1508419130</notBefore></action>
		<action>
            <name>checkNight</name>
            <interval>900</interval>
            <method>PUT</method>
            <url>/data/environment/night</url>
            <mimetype>text/plain</mimetype>
            <data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 8 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
		<notBefore>1540826130</notBefore></action>
		<action>
            <name>checkLate</name>
            <interval>900</interval>
            <method>PUT</method>
            <url>/data/environment/latereminder</url>
            <mimetype>text/plain</mimetype>
            <data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 2 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
		<notBefore>1540826130</notBefore></action>
		<action>
            <name>checkMorning</name>
            <interval>900</interval>
            <method>PUT</method>
            <url>/data/environment/morninggreeting</url>
            <mimetype>text/plain</mimetype>
            <data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 9 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 5}</data>
		<notBefore>1540826130</notBefore></action>
		<action>
			<name>updatePeople</name>
			<xpath>/data/environment/devices/*</xpath>
			<condition>/data/identities/*[device=name($originalContext)]</condition>
			<url>
			/data/people/{name(/data/identities/*[device=name($originalContext)])}/home
			</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>{.}</data>
			<multiple>true</multiple>
		</action>
		<action>
			<name>updateIgor</name>
			<interval>60</interval>
			<url>/data/environment/introspection/lastActivity/igor</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>{igor_dateTime()}</data>
		<notBefore>1540826130</notBefore></action>
		<action>
			<name>locationpauline</name>
			<url>/data/plugindata/ringer/host</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>ringer.fritz.box</data>
		</action>
		<action>
			<name>locationjack</name>
			<url>/data/plugindata/ringer/host</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>ringer.local</data>
		</action>
		<action>
			<name>locationcwi</name>
			<url>/data/plugindata/ringer/host</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>ringer.local</data>
		</action>
        <action>
            <name>bellbutton-alt</name>
            <url>/data/environment/messages/message</url>
            <representing>sensors/button</representing>
            <method>POST</method>
            <mimetype>text/plain</mimetype>
            <data>Someone pressed the bell button!</data>
            <notBefore>1530612866</notBefore>
        </action>
        <action>
            <name>bellbutton</name>
            <url>/action/ringringer</url>
            <representing>sensors/button</representing>
            <method>GET</method>
            <notBefore>1530621438</notBefore>
        </action>
        <action>
            <name>turnbellbutton</name>
            <url>/data/environment/messages/message</url>
            <representing>sensors/button</representing>
            <method>POST</method>
            <mimetype>text/plain</mimetype>
            <data>You just turned the bell button</data>
            <notBefore>1508419926</notBefore>
        </action>
        <action>
            <name>addtoken</name>
            <url>/data/environment/tokens/token</url>
            <method>POST</method>
            <mimetype>text/plain</mimetype>
            <data>1234</data>
            <notBefore>1508419926</notBefore>
        </action>
        <action>
            <name>ringringer</name>
            <url>http://{/data/plugindata/ringer/host}/alarm?alarm=1</url>
            <representing>devices/ringer</representing>
            <notBefore>1530621438</notBefore>
        </action>
        <action own:plugin="say">
                <xpath>/data/environment/messages/*</xpath>
                <condition>not(data/environment/night)</condition>
                <url>/pluginscript/say/message?args={.}</url>
            <notBefore>1540826131</notBefore></action>
        <action own:plugin="lan">
                <interval>60</interval>
                <url>/plugin/lan?name=router&amp;ip=192.168.37.1</url>
                <aggregate>true</aggregate>
            <notBefore>1540826130</notBefore></action>
        <action own:plugin="lan">
                <interval>60</interval>
                <url>/plugin/lan?name=internet&amp;ip=google.com.</url>
                <aggregate>true</aggregate>
            <notBefore>1540826130</notBefore></action>
        <action own:plugin="lan">
                <interval>60</interval>
                <url>/plugin/lan?name=igor&amp;service=igor/web&amp;url={/data/services/igor/url}/services/igor/host</url>
                <aggregate>true</aggregate>
                <notBefore>1540826130</notBefore>
            </action>
        <action own:plugin="systemHealth">
                <name>systemHealth</name>
                <interval>60</interval>
                <xpath>/data/status/*/*/errorMessage</xpath>
                <url>/plugin/systemHealth</url>
            <notBefore>1540826146</notBefore></action>
        <action own:plugin="ble">
                <interval>60</interval>
                <url>/pluginscript/ble/pull</url>
                <representing>sensors/ble</representing>
                <aggregate>true</aggregate>
            <notBefore>1540826130</notBefore></action>
        <action own:plugin="ble">
            <xpath>/data/sensors/ble/bleDevice</xpath>
            <condition>/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name</condition>
            <url>/data/environment/devices/{/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name}</url>
            <method>PUT</method>
            <mimetype>text/plain</mimetype>
            <data>{available}</data>
            <multiple>True</multiple>
        </action>
    </actions>
	<sandbox/>
	<eventsources/>
	<plugindata>
		<ringer>
			<host>ringer.local</host>
		</ringer>
	    <say own:plugin="say">
		</say>
		<device own:plugin="device">
		</device>
		<ca own:plugin="ca">
		</ca>
		<lan own:plugin="lan">
		</lan>
		<user own:plugin="user">
		</user>
		<systemHealth own:plugin="systemHealth">
			<sensorMaxInterval/>
		</systemHealth>
		<ble own:plugin="ble">
			<!-- needs capability for /data/sensors/ble -->
			<!-- needs capability for /data/plugindata/bleDevices -->
		</ble>
		<bleDevices own:plugin="ble">
			<bleDevice>
				<id>a4:77:33:c0:5d:8f</id>
				<name>My_google_hardware</name>
			</bleDevice>
			<bleDevice>
				<id>0b:f7:01:e5:10:a7</id>
				<name>My_microsoft_hardware</name>
			</bleDevice>
		</bleDevices>
	</plugindata>
	
</data>
