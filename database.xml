<?xml version="1.0" ?><data xmlns:au="http://jackjansen.nl/igor/authentication" xmlns:own="http://jackjansen.nl/igor/owner">
	<environment>
		<night/>
		<location/>
		<energy/>
		<weather/>
		<messages/>
		<devices/>
		<lights/>
		<people><count>0</count></people>
		<systemHealth>
			<messages/>
		</systemHealth>
	</environment>
	<status>
		<igor><core><alive>true</alive><lastActivity>1541452837.7563531</lastActivity><lastSuccess>1541452837.7563531</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><ignoreErrorUntil></ignoreErrorUntil></core><save><alive>true</alive><lastActivity>1541452710.2515461</lastActivity><lastSuccess>1541452710.2515461</lastSuccess><ignoreErrorsUntil/><errorMessage/><ignoreErrorUntil/></save></igor>
		<sensors><button><ignoreErrorUntil>1539649256.38</ignoreErrorUntil></button></sensors>
		<devices><ringer/><foo4/></devices>
		<services/>
	</status>
	<sensors><button/></sensors>
	<devices>
	<ringer/><foo4/></devices>
	<services>
		<igor><host>boom.local</host><url>https://boom.local:9333/data</url><port>9333</port><protocol>https</protocol><startTime>1541452837</startTime><version>0.95</version><ticker>0</ticker><rebootCount>145</rebootCount><accessFailures></accessFailures><fingerprint>97:DF:BD:B7:71:6F:5C:B2:B1:0D:16:FE:81:1C:CA:04:2C:99:A6:B9</fingerprint></igor>
	<router/><internet/></services>
	<people/>
	<identities>
		<admin>
			<au:capability>
				<cid>root</cid>
				<child>default-static</child>
				<child>default-environment</child>
				<child>default-status</child>
				<child>default-igor</child>
				<child>default-accessControl</child>
				<child>people-people</child>
				<child>admin-data</child>
				<child>admin-action</child>
				<child>admin-internal</child>
				<child>admin-plugin</child>
				<child>admin-pluginscript</child>
				<child>action-plugin</child>
				<child>action-pluginscript</child>
				<child>action-action</child>
			    <child>external</child>
			    <child>action-internal</child>
			    <child>action-environment</child>
			<child>default-sandbox</child><child>c1999691798100904138</child><child>c9753928941680278051</child><child>c10886111020977100966</child><child>c2600792914107384861</child><child>c13232737044631859170</child></au:capability>
			<au:capability>
				<obj>/data</obj>
				<parent>root</parent>
				<get>descendant-or-self</get>
				<cid>admin-data</cid>
				<put>descendant</put>
				<post>descendant</post>
				<delete>descendant</delete>	
				<delegate>true</delegate>
			</au:capability>
			<au:capability><obj>/action</obj><parent>root</parent><get>descendant</get><cid>admin-action</cid><delegate>true</delegate><child>c737486580052040841</child></au:capability>
			<au:capability>
				<get>descendant</get>
				<obj>/internal</obj>
				<parent>root</parent>
				<cid>admin-internal</cid>
				<delegate>true</delegate>
			</au:capability>
			<au:capability>
				<get>descendant</get>
				<obj>/plugin</obj>
				<parent>root</parent>
				<cid>admin-plugin</cid>
				<delegate>true</delegate>
			</au:capability>
			<au:capability>
				<get>descendant</get>
				<obj>/pluginscript</obj>
				<parent>root</parent>
				<cid>admin-pluginscript</cid>
				<delegate>true</delegate>
			</au:capability>
            <au:capability><child>c8367703070584182310</child><delegate>external</delegate><parent>root</parent><cid>external</cid></au:capability>
		<au:capability><obj>/api</obj><aud>ringer.local</aud><parent>external</parent><cid>c8367703070584182310</cid><get>descendant-or-self</get><delegate>true</delegate><child>c4539053256114489748</child><put>descendant-or-self</put><post>descendant</post><delete>descendant</delete></au:capability><au:capability><obj>/action/button.pressed</obj><parent>admin-action</parent><get>self</get><cid>c737486580052040841</cid><delegate>true</delegate><child>c18200953248314046039</child></au:capability><plugindata/></admin>
		<au:capability>
			<get>descendant-or-self</get>
			<obj>/data/people</obj>
			<parent>root</parent>
			<cid>people-people</cid>
		</au:capability>
	</identities>
	<actions>
	    <action>
	        <name>start</name>
	        <url>/internal/started</url>
	    <notBefore>1541452816</notBefore></action>
		<action>
			<name>save</name>
			<interval>3600</interval>
			<minInterval>60</minInterval>
			<url>/internal/save</url>
			<representing>igor/save</representing>
			<xpath>/data/plugindata//* | /data/actions/* | /data/triggers/* | /data/identities//* | /data/sandbox/*</xpath>
			<notBefore>1541452876</notBefore>
		</action>
        <action>
            <name>cleanup</name>
            <method>DELETE</method>
            <url>/data/environment/messages/message[position()&lt;last()]</url>
			<notBefore/>
        </action>
		<action>
			<name>updateActions</name>
			<xpath>/data/actions/*</xpath>
			<url>/internal/updateActions</url>
			<notBefore/>
		</action>
		<action>
			<name>checkNight</name>
			<interval>900</interval>
			<method>PUT</method>
			<url>/data/environment/night</url>
			<mimetype>text/plain</mimetype>
			<data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 8 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
			<notBefore>1541452816</notBefore>
		</action>
		<action>
			<name>updatePeople</name>
			<xpath>/data/environment/devices/*</xpath>
			<condition>/data/identities/*[device=name($originalContext)]</condition>
			<url>/data/people/{name(/data/identities/*[device=name($originalContext)])}/home</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>{.}</data>
			<multiple>true</multiple>
			<notBefore/>
		</action>
		
		<action>
			<name>button.pressed</name>
			<representing>sensors/button</representing>
			<url>/action/ringer.ring</url>
		</action>
		<action>
			<name>ringer.ring</name>
			<representing>devices/ringer</representing>
			<url>https://ringer.local/api/alarm</url>
			<data>{{&quot;alarm&quot;:5}}</data>
			<method>PUT</method>
		<au:capability><comment/><obj>/api/alarm</obj><aud>ringer.local</aud><parent>c8367703070584182310</parent><get/><cid>c4539053256114489748</cid><put>self</put><post/><delete/></au:capability></action>
		<au:capability>
			<get>descendant</get>
			<obj>/plugin</obj>
			<parent>root</parent>
			<cid>action-plugin</cid>
		</au:capability>
		<au:capability>
			<get>descendant</get>
			<obj>/pluginscript</obj>
			<parent>root</parent>
			<cid>action-pluginscript</cid>
		</au:capability>
		<au:capability>
			<get>child</get>
			<obj>/action</obj>
			<parent>root</parent>
			<cid>action-action</cid>
		</au:capability>
        <au:capability>
            <get>descendant</get>
            <obj>/internal</obj>
            <parent>root</parent>
            <cid>action-internal</cid>
        </au:capability>
        <au:capability>
            <obj>/data/environment</obj>
            <parent>root</parent>
            <get>descendant</get>
            <cid>action-environment</cid>
            <put>descendant</put>
            <post>descendant</post>
            <delete>descendant</delete>
        </au:capability>
    <action own:plugin="systemHealth">
			<name>systemHealth</name>
			<interval>60</interval>
			<xpath>/data/status/*/*/errorMessage</xpath>
			<url>/plugin/systemHealth</url>
		<notBefore>1541452816</notBefore></action><action own:plugin="say">
			<xpath>/data/environment/messages/*</xpath>
			<condition>not(data/environment/night)</condition>
			<url>/pluginscript/say/message?args={.}</url>
		</action></actions>
	<sandbox>
	</sandbox>
	<plugindata>
	<systemHealth own:plugin="systemHealth">
			<sensorMaxInterval/>
		<au:capability><obj>/data/plugindata/systemHealth</obj><get>descendant-or-self</get><cid>c1999691798100904138</cid><parent>root</parent></au:capability></systemHealth><user own:plugin="user">
		<au:capability><obj>/data/plugindata/user</obj><get>descendant-or-self</get><cid>c9753928941680278051</cid><parent>root</parent></au:capability></user><device own:plugin="device">
		<au:capability><obj>/data/plugindata/device</obj><get>descendant-or-self</get><cid>c10886111020977100966</cid><parent>root</parent></au:capability></device><ca own:plugin="ca">
		<au:capability><obj>/data/plugindata/ca</obj><get>descendant-or-self</get><cid>c2600792914107384861</cid><parent>root</parent></au:capability></ca><say own:plugin="say">
		<au:capability><obj>/data/plugindata/say</obj><get>descendant-or-self</get><cid>c13232737044631859170</cid><parent>root</parent></au:capability></say></plugindata>
	<au:access>
		<au:defaultCapabilities>
			<au:capability>
				<get>child</get>
				<obj>/static</obj>
				<parent>root</parent>
				<cid>default-static</cid>
			</au:capability>
			<au:capability>
				<get>descendant-or-self</get>
				<obj>/data/environment</obj>
				<parent>root</parent>
				<cid>default-environment</cid>
			</au:capability>
			<au:capability>
				<get>descendant-or-self</get>
				<obj>/data/status</obj>
				<parent>root</parent>
				<cid>default-status</cid>
			</au:capability>
			<au:capability>
				<get>descendant-or-self</get>
				<obj>/data/services/igor</obj>
				<parent>root</parent>
				<cid>default-igor</cid>
			</au:capability>
			<au:capability>
				<get>child</get>
				<obj>/internal/accessControl</obj>
				<parent>root</parent>
				<cid>default-accessControl</cid>
			</au:capability>
		<au:capability><obj>/data/sandbox</obj><parent>root</parent><get>descendant-or-self</get><cid>default-sandbox</cid><put>descendant</put><post>descendant</post><delete>descendant</delete></au:capability></au:defaultCapabilities>
		<au:exportedCapabilities>
		<au:capability><obj>/action/button.pressed</obj><sub>/button.local</sub><parent>c737486580052040841</parent><get>self</get><iss>https://boom.local:9333/issuer</iss><cid>c18200953248314046039</cid><nvb>1532380582</nvb><nva>1563916583</nva><aud>https://boom.local:9333/data</aud></au:capability></au:exportedCapabilities>
		<au:revokedCapabilities>
		</au:revokedCapabilities>
		<au:unusedCapabilities>
		</au:unusedCapabilities>
		<au:sharedKeys>
		<au:sharedKey><iss>https://boom.local:9333/issuer</iss><externalKey>k16389691029869126143</externalKey><aud>https://boom.local:9333/data</aud><sub>button.local</sub></au:sharedKey><au:sharedKey><iss>https://boom.local:9333/issuer</iss><externalKey>k8387214475669524776</externalKey><aud>ringer.local</aud></au:sharedKey></au:sharedKeys>
	</au:access>
</data>