<?xml version="1.0" ?><data xmlns:au="http://jackjansen.nl/igor/authentication" xmlns:own="http://jackjansen.nl/igor/owner">
	<environment>
		<morninggreeting>true</morninggreeting>
		<latereminder/>
		<night/>
		<tokens><token/></tokens>
		<location/>
		<energy/>
		<weather/>
		<messages><message>'Good morning, you are early!'</message><message>'this is Igor. The time is now' 12'.'27</message><message>'Good morning, you are early!'</message></messages>
		<devices/>
		<lights/>
		<systemHealth>
			<messages><ringer>devices/ringer failed without error message</ringer></messages>
		</systemHealth>
		<introspection>
		    <lastActivity><igor>2018-08-13T15:43:45.324653</igor><ble>2018-08-13T15:42:47.447873</ble></lastActivity>
		</introspection>
	</environment>
	<status>
		<igor><core><alive>true</alive><lastActivity>1540812425.8599634</lastActivity><lastSuccess>1540812425.8599634</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><ignoreErrorUntil></ignoreErrorUntil></core><save><alive>true</alive><lastActivity>1534167765.77</lastActivity><lastSuccess>1534167765.77</lastSuccess><ignoreErrorsUntil/><errorMessage/></save><web><alive>true</alive><lastActivity>1534167768.25</lastActivity><lastSuccess>1534167768.25</lastSuccess><ignoreErrorsUntil/><errorMessage/></web></igor>
		<sensors><ble><alive></alive><lastActivity>1540812426.384932</lastActivity><lastSuccess>1534167767.56</lastSuccess><lastFailure>1540812426.384932</lastFailure><errorMessage>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2 Final//EN&quot;&gt;
&lt;title&gt;404 Not Found&lt;/title&gt;
&lt;h1&gt;Not Found&lt;/h1&gt;
&lt;p&gt;The requested URL was not found on the server.  If you entered the URL manually please check your spelling and try again.&lt;/p&gt;
&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2 Final//EN&quot;&gt;
&lt;title&gt;404 Not Found&lt;/title&gt;
&lt;h1&gt;Not Found&lt;/h1&gt;
&lt;p&gt;The requested URL was not found on the server.  If you entered the URL manually please check your spelling and try again.&lt;/p&gt;
</errorMessage><ignoreErrorsUntil/></ble><button><alive>true</alive><lastActivity>1530621438.31</lastActivity><lastSuccess>1530621438.31</lastSuccess><ignoreErrorsUntil/><errorMessage/></button></sensors>
		<devices><ringer><alive/><lastActivity>1530621439.76</lastActivity><lastFailure>1530621439.76</lastFailure><errorMessage>devices/ringer failed without error message</errorMessage></ringer></devices>
		<services><announceTime><alive>true</alive><lastActivity>1540812426.3576984</lastActivity><lastSuccess>1540812426.3576984</lastSuccess><ignoreErrorsUntil/><errorMessage></errorMessage><ignoreErrorUntil></ignoreErrorUntil></announceTime><internet><alive>true</alive><lastActivity>1534167767.76</lastActivity><lastSuccess>1534167767.76</lastSuccess><ignoreErrorsUntil/><errorMessage/><lastFailure>1530629680.83</lastFailure></internet></services>
	</status>
	<sensors><ble own:plugin="ble"/></sensors>
	<devices>
	</devices>
	<services>
	<igor><fingerprint>10:4F:B8:17:83:4C:DF:CA:FC:43:84:F9:EC:2B:87:24:E6:80:42:0E</fingerprint><host>192.168.37.166</host><version>0.95</version><protocol>https</protocol><startTime>1540812425</startTime><accessFailures></accessFailures><url>https://192.168.37.166:9333/data</url><ticker>0</ticker><rebootCount>15</rebootCount><port>9333</port></igor><router/><internet/></services>
	<people/>
	<identities><admin><plugindata/></admin></identities>
	<actions>
		<action>
			<name>updateMessage</name>
			<interval>500</interval>
			<url>/data/environment/messages/message</url>
			<representing>services/announceTime</representing>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>'this is Igor. The time is now' {igor_hours_from_dateTime(igor_dateTime())}'.'{igor_minutes_from_dateTime(igor_dateTime())}</data>
		<notBefore>1540812426</notBefore></action>
		<action>
			<name>checkLate_reminder</name>
			<interval>500</interval>
			<condition>/data/environment[latereminder='true']</condition>
		    <url>/data/environment/messages/message</url>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>'Its late, you should be sleeping!'</data>
			<multiple>True</multiple>
		<notBefore>1530576015</notBefore></action>
		<action>
			<name>checkMorning_reminder</name>
			<interval>500</interval>
			<condition>/data/environment[morninggreeting='true']</condition>
		    <url>/data/environment/messages/message</url>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>'Good morning, you are early!'</data>
			<multiple>True</multiple>
		<notBefore>1540812426</notBefore></action>
	    <action>
			<xpath>/data/environment/messages/*</xpath>
			<condition>not(data/environment/night)</condition>
			<url>/pluginscripts/say/message?args={.}</url>
		<notBefore>1540812426</notBefore></action>
	    <action>
            <interval>60</interval>
            <url>/pluginscripts/ble/pull</url>
			<representing>sensors/ble</representing>
            <aggregate>true</aggregate>
        <notBefore>1540812426</notBefore></action>
	    <action>
	        <name>start</name>
	        <url>/internal/started</url>
	    <notBefore>1540812426</notBefore></action>
		<action>
			<name>save</name>
			<interval>3600</interval>
			<minInterval>60</minInterval>
			<url>/internal/save</url>
			<representing>igor/save</representing>
			<xpath>/data/plugindata//* | /data/actions/* | /data/triggers/* | /data/identities//* | /data/sandbox/*</xpath>
		<notBefore>1540812486</notBefore></action>
        <action>
            <name>cleanup</name>
            <method>DELETE</method>
            <url>/data/environment/messages/message[position()&lt;last()]</url>
            <interval>900</interval>
        <notBefore>1540812426</notBefore></action>
		<action>
			<name>updateActions</name>
			<xpath>/data/actions/*</xpath>
			<url>/internal/updateActions</url>
		<notBefore>1508419130</notBefore></action>
		<action>
            <name>checkNight</name>
            <interval>900</interval>
            <method>PUT</method>
            <url>/data/environment/night</url>
            <mimetype>text/plain</mimetype>
            <data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 8 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
		<notBefore>1540812426</notBefore></action>
		<action>
            <name>checkLate</name>
            <interval>900</interval>
            <method>PUT</method>
            <url>/data/environment/latereminder</url>
            <mimetype>text/plain</mimetype>
            <data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 2 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
		<notBefore>1540812426</notBefore></action>
		<action>
            <name>checkMorning</name>
            <interval>900</interval>
            <method>PUT</method>
            <url>/data/environment/morninggreeting</url>
            <mimetype>text/plain</mimetype>
            <data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 9 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 5}</data>
		<notBefore>1540812426</notBefore></action>
		<action>
			<name>updatePeople</name>
			<xpath>/data/environment/devices/*</xpath>
			<condition>/data/identities/*[device=name($originalContext)]</condition>
			<url>
			/data/people/{name(/data/identities/*[device=name($originalContext)])}/home
			</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>{.}</data>
			<multiple>true</multiple>
		</action>
		<action>
			<name>updateIgor</name>
			<interval>60</interval>
			<url>/data/environment/introspection/lastActivity/igor</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>{igor_dateTime()}</data>
		<notBefore>1540812426</notBefore></action>
		<action>
			<name>locationpauline</name>
			<url>/data/plugindata/ringer/host</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>ringer.fritz.box</data>
		</action>
		<action>
			<name>locationjack</name>
			<url>/data/plugindata/ringer/host</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>ringer.local</data>
		</action>
		<action>
			<name>locationcwi</name>
			<url>/data/plugindata/ringer/host</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>ringer.local</data>
		</action>
	<action>
        <name>bellbutton-alt</name>
        <url>/data/environment/messages/message</url>
        <representing>sensors/button</representing>
        <method>POST</method>
        <mimetype>text/plain</mimetype>
        <data>Someone pressed the bell button!</data>
        <notBefore>1530612866</notBefore>
    </action>
	<action>
        <name>bellbutton</name>
        <url>/action/ringringer</url>
        <representing>sensors/button</representing>
        <method>GET</method>
        <notBefore>1530621438</notBefore>
    </action>
	<action>
        <name>turnbellbutton</name>
        <url>/data/environment/messages/message</url>
        <representing>sensors/button</representing>
        <method>POST</method>
        <mimetype>text/plain</mimetype>
        <data>You just turned the bell button</data>
        <notBefore>1508419926</notBefore>
	</action>
	<action>
        <name>addtoken</name>
        <url>/data/environment/tokens/token</url>
        <method>POST</method>
        <mimetype>text/plain</mimetype>
        <data>1234</data>
        <notBefore>1508419926</notBefore>
	</action>
	<action>
        <name>ringringer</name>
        <url>http://{/data/plugindata/ringer/host}/alarm?alarm=1</url>
        <representing>devices/ringer</representing>
        <notBefore>1530621438</notBefore>
	</action>
	<action own:plugin="say">
			<xpath>/data/environment/messages/*</xpath>
			<condition>not(data/environment/night)</condition>
			<url>/pluginscript/say/message?args={.}</url>
		<notBefore>1540812426</notBefore></action><action own:plugin="lan">
			<interval>60</interval>
			<url>/plugin/lan?name=router&amp;ip=192.168.1.1</url>
			<aggregate>true</aggregate>
		<notBefore>1540812426</notBefore></action><action own:plugin="lan">
			<interval>60</interval>
			<url>/plugin/lan?name=internet&amp;ip=google.com.</url>
			<aggregate>true</aggregate>
		<notBefore>1540812426</notBefore></action><action own:plugin="lan">
			<interval>60</interval>
			<url>/plugin/lan?name=igor&amp;service=igor/web&amp;url={/data/services/igor/url}/services/igor/host</url>
			<aggregate>true</aggregate>
			<notBefore>1540812426</notBefore>
		</action><action own:plugin="systemHealth">
			<name>systemHealth</name>
			<interval>60</interval>
			<xpath>/data/status/*/*/errorMessage</xpath>
			<url>/plugin/systemHealth</url>
		<notBefore>1540812426</notBefore></action><action own:plugin="ble">
			<interval>60</interval>
			<url>/pluginscript/ble/pull</url>
			<representing>sensors/ble</representing>
			<aggregate>true</aggregate>
		<notBefore>1540812426</notBefore></action><action own:plugin="ble">
            <xpath>/data/sensors/ble/bleDevice</xpath>
            <condition>/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name</condition>
            <url>/data/environment/devices/{/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name}</url>
            <method>PUT</method>
            <mimetype>text/plain</mimetype>
            <data>{available}</data>
            <multiple>True</multiple>
        </action></actions>
	<sandbox/>
	<eventsources/>
	<plugindata>
	    <bleDevices>
			<bleDevice>
				<id>a4:77:33:c0:5d:8f</id>
				<name>My_google_hardware</name>
			</bleDevice>
			<bleDevice>
				<id>0b:f7:01:e5:10:a7</id>
				<name>My_microsoft_hardware</name>
			</bleDevice>
		</bleDevices>
		<ringer>
			<host>ringer.local</host>
		</ringer>
	<say own:plugin="say">
		</say><device own:plugin="device">
		</device><ca own:plugin="ca">
		</ca><lan own:plugin="lan">
		</lan><user own:plugin="user">
		</user><systemHealth own:plugin="systemHealth">
			<sensorMaxInterval/>
		</systemHealth><ble own:plugin="ble">
			<!-- needs capability for /data/sensors/ble -->
			<!-- needs capability for /data/plugindata/bleDevices -->
		</ble><bleDevices own:plugin="ble">
			<!-- example: -->
			<bleDevice>
				<id>00:11:22:33:44:55</id>
				<name>bleDeviceName</name>
			</bleDevice>
		</bleDevices></plugindata>
	
</data>